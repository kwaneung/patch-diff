# PatchDiff.gg – Phase 2 요구사항 명세서 (Draft)

Phase 1 MVP 완료 후 추가 개선 및 신규 기능에 대한 요구사항입니다.

---

## 1. 카테고리 필터 기능

### 1.1 배경
- 현재 패치 상세 페이지에는 **변경 유형 필터**(All, Buff, Nerf, Adjust)만 존재
- 사용자가 챔피언/아이템/기타 항목을 빠르게 탐색하기 어려움

### 1.2 요구사항
- **카테고리 필터** 추가: 챔피언, 아이템, 그 외(시스템 등)
- 기존 변경 유형 필터와 **조합 가능**하게 구현
  - 예: "챔피언" + "너프"로 필터링 → 이번 패치에서 너프된 챔피언만 조회

### 1.3 UI/UX 고려사항
- 필터 UI가 복잡해지지 않도록 직관적인 디자인 필요
- 모바일에서도 사용하기 편한 레이아웃 (드롭다운, 토글 버튼 등 검토)
- 필터 상태가 URL에 반영되면 공유에 용이 (선택 사항)

---

## 2. 검색 기능

### 1.1 범위
- [ ] 패치 상세 페이지 내 챔피언/아이템 검색
- [ ] 전체 패치 통합 검색 (예: "아트록스" 검색 시 모든 패치의 아트록스 변경사항 조회)

### 1.2 상세
- 검색 UI 위치: (미정)
- 검색 대상: 챔피언명, 아이템명, 변경 내용

---

## 2. 카테고리 표시 개선

### 2.1 문제
- 현재 UI에서 챔피언/아이템 옆에 "UNKNOWN"으로 표시됨
- 파서가 `category: 'unknown'`으로 하드코딩되어 있음

### 2.2 요구사항
- 패치노트 HTML 구조(`<h2 id="patch-champions">`, `<h2 id="patch-items">`)를 파싱하여 카테고리 자동 분류
- UI에 "챔피언", "아이템", "시스템" 등으로 표시
- 기존 DB `category` 컬럼 및 UI Badge 활용 (신규 개발 최소화)

---

## 3. 조정(Adjust) 분석

### 3.1 목적
- 단순 "조정"으로 분류된 항목에 대해 추가 분석 제공

### 3.2 범위
- [ ] 분기점 계산 (예: "AP 100 이상이면 상향, 미만이면 하향")
- [ ] 레벨별/스킬랭크별 유불리 시각화
- [ ] 그 외: (추가 작성)

---

## 4. 크롤러 메타데이터

### 4.1 목적
- 마지막 크롤링 시간을 DB에 저장하여 상태 모니터링

### 4.2 구현
- [ ] `crawler_runs` 테이블 추가 또는 기존 테이블에 `last_crawled_at` 컬럼 추가
- [ ] 크롤러 실행 시 타임스탬프 기록
- [ ] (선택) 관리자 페이지에서 확인 가능

---

## 5. UI/UX 개선

### 5.1 색상 변경
- [ ] Buff: 파란색 → **빨간색**
- [ ] Nerf: 빨간색 → **파란색**
- 이유: LCK/롤 대회 스타일과 일치

### 5.2 디자인 폴리시
- [ ] 디자인 컨셉 확정
- [ ] 반응형 웹 재점검 (모바일/태블릿/데스크탑)
- [ ] (기타 디자인 요소 추가)

---

## 6. 기타 / 추후 고려

- [ ] (추가 요구사항 작성)

---

> **작성자 메모**: 이 문서는 초안입니다. 필요한 항목을 추가/삭제/수정해 주세요.
